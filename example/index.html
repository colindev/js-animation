<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js"></script>

<script>

requirejs.config({});

require(['http://localhost:8001/src/dispatcher.js', '../src/animation'], function(dispatcher, animation){

    var an = new animation(dispatcher);
    an.run();

    var h = function(t){console.log(t)};
    an.addHandler(h);

    setTimeout(function(){
        console.log('remove handler');
        an.removeHandler(h);
    }, 3*1000)

    setTimeout(function(){
        console.log('add handler');
        an.addHandler(h);    
    }, 5*1000);

    setTimeout(function(){
        console.log('paused = true');
        an.pause(true);    
    }, 7*1000);

    setTimeout(function(){
        console.log('paused = false');
        an.pause(false);    
    }, 9*1000)

});

</script>
